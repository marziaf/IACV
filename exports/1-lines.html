<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,IE=9,chrome=1"><meta name="generator" content="MATLAB 2021b"><title>Lines and points</title><style type="text/css">.rtcContent { padding: 30px; } .S0 { margin: 3px 10px 5px 4px; padding: 0px; line-height: 28.8px; min-height: 0px; white-space: pre-wrap; color: rgb(213, 80, 0); font-family: Helvetica, Arial, sans-serif; font-style: normal; font-size: 24px; font-weight: 400; text-align: left;  }
.S1 { margin: 2px 10px 9px 4px; padding: 0px; line-height: 21px; min-height: 0px; white-space: pre-wrap; color: rgb(0, 0, 0); font-family: Helvetica, Arial, sans-serif; font-style: normal; font-size: 14px; font-weight: 400; text-align: left;  }
.S2 { margin: 10px 0px 20px; padding-left: 0px; font-family: Helvetica, Arial, sans-serif; font-size: 14px;  }
.S3 { margin-left: 56px; line-height: 21px; min-height: 0px; text-align: left; white-space: pre-wrap;  }
.S4 { margin: 20px 10px 5px 4px; padding: 0px; line-height: 20px; min-height: 0px; white-space: pre-wrap; color: rgb(60, 60, 60); font-family: Helvetica, Arial, sans-serif; font-style: normal; font-size: 20px; font-weight: 700; text-align: left;  }
.CodeBlock { background-color: #F7F7F7; margin: 10px 0 10px 0;}
.S5 { border-left: 1px solid rgb(233, 233, 233); border-right: 1px solid rgb(233, 233, 233); border-top: 1px solid rgb(233, 233, 233); border-bottom: 0px none rgb(0, 0, 0); border-radius: 4px 4px 0px 0px; padding: 6px 45px 0px 13px; line-height: 17.234px; min-height: 18px; white-space: nowrap; color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, "Courier New", monospace; font-size: 14px;  }
.S6 { border-left: 1px solid rgb(233, 233, 233); border-right: 1px solid rgb(233, 233, 233); border-top: 0px none rgb(0, 0, 0); border-bottom: 0px none rgb(0, 0, 0); border-radius: 0px; padding: 0px 45px 0px 13px; line-height: 17.234px; min-height: 18px; white-space: nowrap; color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, "Courier New", monospace; font-size: 14px;  }
.S7 { border-left: 1px solid rgb(233, 233, 233); border-right: 1px solid rgb(233, 233, 233); border-top: 0px none rgb(0, 0, 0); border-bottom: 1px solid rgb(233, 233, 233); border-radius: 0px 0px 4px 4px; padding: 0px 45px 4px 13px; line-height: 17.234px; min-height: 18px; white-space: nowrap; color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, "Courier New", monospace; font-size: 14px;  }
.S8 { margin: 10px 10px 9px 4px; padding: 0px; line-height: 21px; min-height: 0px; white-space: pre-wrap; color: rgb(0, 0, 0); font-family: Helvetica, Arial, sans-serif; font-style: normal; font-size: 14px; font-weight: 400; text-align: left;  }
.S9 { border-left: 1px solid rgb(233, 233, 233); border-right: 1px solid rgb(233, 233, 233); border-top: 1px solid rgb(233, 233, 233); border-bottom: 1px solid rgb(233, 233, 233); border-radius: 4px; padding: 6px 45px 4px 13px; line-height: 17.234px; min-height: 18px; white-space: nowrap; color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, "Courier New", monospace; font-size: 14px;  }
.S10 { margin: 15px 10px 5px 4px; padding: 0px; line-height: 18px; min-height: 0px; white-space: pre-wrap; color: rgb(60, 60, 60); font-family: Helvetica, Arial, sans-serif; font-style: normal; font-size: 17px; font-weight: 700; text-align: left;  }
.S11 { border-left: 1px solid rgb(233, 233, 233); border-right: 1px solid rgb(233, 233, 233); border-top: 0px none rgb(0, 0, 0); border-bottom: 1px solid rgb(233, 233, 233); border-radius: 0px; padding: 0px 45px 4px 13px; line-height: 17.234px; min-height: 18px; white-space: nowrap; color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, "Courier New", monospace; font-size: 14px;  }
.S12 { color: rgb(64, 64, 64); padding: 10px 0px 6px 17px; background: rgb(255, 255, 255) none repeat scroll 0% 0% / auto padding-box border-box; font-family: Menlo, Monaco, Consolas, "Courier New", monospace; font-size: 14px; overflow-x: hidden; line-height: 17.234px;  }
.variableValue { width: 100% !important; }
.embeddedOutputsMatrixElement,.eoOutputWrapper .matrixElement {    min-height: 18px;    box-sizing: border-box;}
.embeddedOutputsMatrixElement .matrixElement,.eoOutputWrapper  .matrixElement,.rtcDataTipElement .matrixElement {    position: relative;}
.matrixElement .variableValue,.rtcDataTipElement .matrixElement .variableValue {    white-space: pre;    display: inline-block;    vertical-align: top;    overflow: hidden;}
.embeddedOutputsMatrixElement.inlineElement {}
.embeddedOutputsMatrixElement.inlineElement .topHeaderWrapper {    display: none;}
.embeddedOutputsMatrixElement.inlineElement .veTable .body {    padding-top: 0 !important;    max-height: 100px;}
.inlineElement .matrixElement {    max-height: 300px;}
.embeddedOutputsMatrixElement.rightPaneElement {}
.rightPaneElement .matrixElement,.rtcDataTipElement .matrixElement {    overflow: hidden;    padding-left: 9px;}
.rightPaneElement .matrixElement {    margin-bottom: -1px;}
.embeddedOutputsMatrixElement .matrixElement .valueContainer,.eoOutputWrapper .matrixElement .valueContainer,.rtcDataTipElement .matrixElement .valueContainer {    white-space: nowrap;    margin-bottom: 3px;}
.embeddedOutputsMatrixElement .matrixElement .valueContainer .horizontalEllipsis.hide,.embeddedOutputsMatrixElement .matrixElement .verticalEllipsis.hide,.eoOutputWrapper .matrixElement .valueContainer .horizontalEllipsis.hide,.eoOutputWrapper .matrixElement .verticalEllipsis.hide,.rtcDataTipElement .matrixElement .valueContainer .horizontalEllipsis.hide,.rtcDataTipElement .matrixElement .verticalEllipsis.hide {    display: none;}
.embeddedOutputsVariableMatrixElement .matrixElement .valueContainer.hideEllipses .verticalEllipsis, .embeddedOutputsVariableMatrixElement .matrixElement .valueContainer.hideEllipses .horizontalEllipsis {    display:none;}
.embeddedOutputsMatrixElement .matrixElement .valueContainer .horizontalEllipsis,.eoOutputWrapper .matrixElement .valueContainer .horizontalEllipsis {    margin-bottom: -3px;}
.eoOutputWrapper .embeddedOutputsVariableMatrixElement .matrixElement .valueContainer {    cursor: default !important;}
.embeddedOutputsVariableElement {    white-space: pre-wrap;    word-wrap: break-word;    min-height: 18px;    max-height: 250px;    overflow: auto;}
.variableElement {}
.embeddedOutputsVariableElement.inlineElement {}
.inlineElement .variableElement {}
.embeddedOutputsVariableElement.rightPaneElement {    min-height: 16px;}
.rightPaneElement .variableElement {    padding-top: 2px;    padding-left: 9px;}
.variableNameElement {    margin-bottom: 3px;    display: inline-block;}
/* * Ellipses as base64 for HTML export. */.matrixElement .horizontalEllipsis,.rtcDataTipElement .matrixElement .horizontalEllipsis {    display: inline-block;    margin-top: 3px;    /* base64 encoded version of images-liveeditor/HEllipsis.png */    width: 30px;    height: 12px;    background-repeat: no-repeat;    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAJCAYAAADO1CeCAAAAJUlEQVR42mP4//8/A70xw0i29BUDFPxnAEtTW37wWDqakIa4pQDvOOG89lHX2gAAAABJRU5ErkJggg==");}
.matrixElement .verticalEllipsis,.textElement .verticalEllipsis,.rtcDataTipElement .matrixElement .verticalEllipsis,.rtcDataTipElement .textElement .verticalEllipsis {    margin-left: 35px;    /* base64 encoded version of images-liveeditor/VEllipsis.png */    width: 12px;    height: 30px;    background-repeat: no-repeat;    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAZCAYAAAAIcL+IAAAALklEQVR42mP4//8/AzGYgWyFMECMwv8QddRS+P//KyimlmcGUOFoOI6GI/UVAgDnd8Dd4+NCwgAAAABJRU5ErkJggg==");}</style></head><body><div class = rtcContent><h1  class = 'S0'><span>Lines and points</span></h1><div  class = 'S1'><span>Using homogeneous coordinates, find the lines:</span></div><ul  class = 'S2'><li  class = 'S3'><span>through two points</span></li><li  class = 'S3'><span>parallel to another line</span></li><li  class = 'S3'><span>orthogonal to another line</span></li></ul><h2  class = 'S4'><span>Select n points</span></h2><div  class = 'S1'><span>At least 2</span></div><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >cd </span><span style="color: rgb(170, 4, 249);">~/Documents/Polimi/IACV/</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre"><span >I = imread(</span><span style="color: rgb(170, 4, 249);">'checkerboard.png'</span><span >);</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre"><span >figure(1), imshow(I.*255); hold </span><span style="color: rgb(170, 4, 249);">on</span><span >;</span></span></div></div><div class="inlineWrapper"><div  class = 'S7'><span style="white-space: pre"><span >[x, y] = getpts();</span></span></div></div></div><div  class = 'S8'><span>Show the first two over the image</span></div><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S9'><span style="white-space: pre"><span >plot(x(1:2), y(1:2), </span><span style="color: rgb(170, 4, 249);">'r+'</span><span >, MarkerSize=10, LineWidth=2);</span></span></div></div></div><h2  class = 'S4'><span>Lines</span></h2><h3  class = 'S10'><span>Line through two points</span></h3><div  class = 'S1'><span>Cross product</span></div><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >a = [x(1); y(1); 1];</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre"><span >b = [x(2); y(2); 1];</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'></div></div><div class="inlineWrapper outputs"><div  class = 'S11'><span style="white-space: pre"><span >l_through = cross(a,b)</span></span></div><div  class = 'S12'><div class="inlineElement eoOutputWrapper embeddedOutputsVariableMatrixElement" uid="1AD289DB" data-testid="output_0" data-width="1907" style="width: 1937px; white-space: normal; font-style: normal; color: rgb(64, 64, 64); font-size: 12px;"><div class="matrixElement veSpecifier saveLoad eoOutputContent" style="white-space: normal; font-style: normal; color: rgb(64, 64, 64); font-size: 12px;"><div class="veVariableName variableNameElement double" style="width: 1907px; white-space: normal; font-style: normal; color: rgb(64, 64, 64); font-size: 12px;"><div class="headerElementClickToInteract" style="white-space: normal; font-style: normal; color: rgb(64, 64, 64); font-size: 12px;"><span style="white-space: normal; font-style: normal; color: rgb(64, 64, 64); font-size: 12px;">l_through = </span><span class="veVariableValueSummary veMetaSummary" style="white-space: normal; font-style: normal; color: rgb(179, 179, 179); font-size: 12px;">3×1</span></div></div><div class="veScalingFactor" style="white-space: normal; font-style: normal; color: rgb(64, 64, 64); font-size: 12px;">10<sup>4</sup><span class="multiply" style="white-space: normal; font-style: normal; color: rgb(64, 64, 64); font-size: 12px;"> ×</span></div><div class="valueContainer" data-layout="{&quot;columnWidth&quot;:73,&quot;totalColumns&quot;:&quot;1&quot;,&quot;totalRows&quot;:&quot;3&quot;,&quot;charsPerColumn&quot;:10}" style="white-space: nowrap; font-style: normal; color: rgb(64, 64, 64); font-size: 12px;"><div class="variableValue" style="width: 75px; white-space: pre; font-style: normal; color: rgb(64, 64, 64); font-size: 12px;">    0.0070
    0.0092
   -2.2266
</div><div class="horizontalEllipsis hide" style="white-space: nowrap; font-style: normal; color: rgb(64, 64, 64); font-size: 12px;"></div><div class="verticalEllipsis hide" style="white-space: nowrap; font-style: normal; color: rgb(64, 64, 64); font-size: 12px;"></div></div></div></div></div></div></div><h3  class = 'S10'><span>Parallel line through center</span></h3><div  class = 'S1'><span>Find the direction by intersecting the line with the line at infinity. The parallel line passes through the center and the point at infinity found</span></div><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >shape = size(I);</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre"><span >s = shape(1);</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre"><span >center_image = [ s/2; s/2; 1];</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre"><span >infty = [0; 0; 1];</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre"><span >direction_l = cross(infty, l_through);</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'></div></div><div class="inlineWrapper"><div  class = 'S7'><span style="white-space: pre"><span >l_par = cross(center_image, direction_l);</span></span></div></div></div><h3  class = 'S10'><span>Line perpendicular to the previous passing through a</span></h3><div  class = 'S1'><span>Line through a and the point at infinity in the direction orthogonal to the line</span></div><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >direction_orth = [ direction_l(2); -direction_l(1); 0];</span></span></div></div><div class="inlineWrapper outputs"><div  class = 'S11'><span style="white-space: pre"><span >l_orth = cross(a, direction_orth)</span></span></div><div  class = 'S12'><div class="inlineElement eoOutputWrapper embeddedOutputsVariableMatrixElement" uid="81B595E7" data-testid="output_1" data-width="1907" style="width: 1937px; white-space: normal; font-style: normal; color: rgb(64, 64, 64); font-size: 12px;"><div class="matrixElement veSpecifier saveLoad eoOutputContent" style="white-space: normal; font-style: normal; color: rgb(64, 64, 64); font-size: 12px;"><div class="veVariableName variableNameElement double" style="width: 1907px; white-space: normal; font-style: normal; color: rgb(64, 64, 64); font-size: 12px;"><div class="headerElementClickToInteract" style="white-space: normal; font-style: normal; color: rgb(64, 64, 64); font-size: 12px;"><span style="white-space: normal; font-style: normal; color: rgb(64, 64, 64); font-size: 12px;">l_orth = </span><span class="veVariableValueSummary veMetaSummary" style="white-space: normal; font-style: normal; color: rgb(179, 179, 179); font-size: 12px;">3×1</span></div></div><div class="veScalingFactor" style="white-space: normal; font-style: normal; color: rgb(64, 64, 64); font-size: 12px;">10<sup>3</sup><span class="multiply" style="white-space: normal; font-style: normal; color: rgb(64, 64, 64); font-size: 12px;"> ×</span></div><div class="valueContainer" data-layout="{&quot;columnWidth&quot;:73,&quot;totalColumns&quot;:&quot;1&quot;,&quot;totalRows&quot;:&quot;3&quot;,&quot;charsPerColumn&quot;:10}" style="white-space: nowrap; font-style: normal; color: rgb(64, 64, 64); font-size: 12px;"><div class="variableValue" style="width: 75px; white-space: pre; font-style: normal; color: rgb(64, 64, 64); font-size: 12px;">   -0.0920
    0.0700
   -6.6280
</div><div class="horizontalEllipsis hide" style="white-space: nowrap; font-style: normal; color: rgb(64, 64, 64); font-size: 12px;"></div><div class="verticalEllipsis hide" style="white-space: nowrap; font-style: normal; color: rgb(64, 64, 64); font-size: 12px;"></div></div></div></div></div></div></div><h3  class = 'S10'><span>Draw</span></h3><div  class = 'S1'><span>Requires to go back to the cartesian representation</span></div><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >x_coord = linspace(0, 500);</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre"><span >l1 = homogeneous_to_cartesian(l_through);</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre"><span >l2 = homogeneous_to_cartesian(l_par);</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre"><span >l3 = homogeneous_to_cartesian(l_orth);</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre"><span >y1 = l1(1)*x_coord + l1(2);</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre"><span >y2 = l2(1)*x_coord + l2(2);</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre"><span >y3 = l3(1)*x_coord + l3(2);</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre"><span >plot(x_coord, y1);</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre"><span >plot(x_coord, y2);</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre"><span >plot(x_coord, y3);</span></span></div></div><div class="inlineWrapper outputs"><div  class = 'S11'><span style="white-space: pre"><span >hold </span><span style="color: rgb(170, 4, 249);">off</span><span >;</span></span></div><div  class = 'S12'><div class="inlineElement eoOutputWrapper embeddedOutputsFigure" uid="F668908F" data-testid="output_2" style="width: 1937px;"><div class="figureElement eoOutputContent"><img class="figureImage figureContainingNode" src="data:image/png;base64,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" style="width: 417px;"></div></div></div></div></div><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">function </span><span >cart = homogeneous_to_cartesian(h)</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre"><span >    cart = [-h(1)/h(2); -h(3)/h(2)];</span></span></div></div><div class="inlineWrapper"><div  class = 'S7'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">end</span></span></div></div></div>
<br>
<!-- 
##### SOURCE BEGIN #####
%% Lines and points
% Using homogeneous coordinates, find the lines:
%% 
% * through two points
% * parallel to another line
% * orthogonal to another line
%% Select n points
% At least 2

cd ~/Documents/Polimi/IACV/
I = imread('checkerboard.png');

figure(1), imshow(I.*255); hold on;
[x, y] = getpts();
%% 
% Show the first two over the image

plot(x(1:2), y(1:2), 'r+', MarkerSize=10, LineWidth=2);
%% Lines
% Line through two points
% Cross product

a = [x(1); y(1); 1];
b = [x(2); y(2); 1];

l_through = cross(a,b)
% Parallel line through center
% Find the direction by intersecting the line with the line at infinity. The 
% parallel line passes through the center and the point at infinity found

shape = size(I);
s = shape(1);
center_image = [ s/2; s/2; 1];

infty = [0; 0; 1];
direction_l = cross(infty, l_through);

l_par = cross(center_image, direction_l);
% Line perpendicular to the previous passing through a
% Line through a and the point at infinity in the direction orthogonal to the 
% line

direction_orth = [ direction_l(2); -direction_l(1); 0];
l_orth = cross(a, direction_orth)
% Draw
% Requires to go back to the cartesian representation

x_coord = linspace(0, 500);

l1 = homogeneous_to_cartesian(l_through);
l2 = homogeneous_to_cartesian(l_par);
l3 = homogeneous_to_cartesian(l_orth);

y1 = l1(1)*x_coord + l1(2);
y2 = l2(1)*x_coord + l2(2);
y3 = l3(1)*x_coord + l3(2);

plot(x_coord, y1);
plot(x_coord, y2);
plot(x_coord, y3);
hold off;
%%
function cart = homogeneous_to_cartesian(h)
    cart = [-h(1)/h(2); -h(3)/h(2)];
end
##### SOURCE END #####
-->
</div></body></html>